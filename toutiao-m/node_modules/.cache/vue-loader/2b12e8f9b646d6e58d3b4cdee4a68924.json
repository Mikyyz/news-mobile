{"remainingRequest":"/Users/mikyyz/vue-trip/toutiao-m/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mikyyz/vue-trip/toutiao-m/src/views/my/index.vue?vue&type=style&index=0&id=7a3d5949&lang=less&scoped=true&","dependencies":[{"path":"/Users/mikyyz/vue-trip/toutiao-m/src/views/my/index.vue","mtime":1602167939887},{"path":"/Users/mikyyz/vue-trip/toutiao-m/node_modules/css-loader/dist/cjs.js","mtime":1599750699944},{"path":"/Users/mikyyz/vue-trip/toutiao-m/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1599750700770},{"path":"/Users/mikyyz/vue-trip/toutiao-m/node_modules/postcss-loader/src/index.js","mtime":1554731891704},{"path":"/Users/mikyyz/vue-trip/toutiao-m/node_modules/less-loader/dist/cjs.js","mtime":1566487728822},{"path":"/Users/mikyyz/vue-trip/toutiao-m/node_modules/cache-loader/dist/cjs.js","mtime":1599750694245},{"path":"/Users/mikyyz/vue-trip/toutiao-m/node_modules/vue-loader/lib/index.js","mtime":1599750700770}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCmJvZHkgewogICAgYmFja2dyb3VuZC1jb2xvcjogI0ZBRkFGQTsKICAgIGNvbG9yOiAjMzMzOwp9Ci5teS1jb250YWluZXIgewogICAgLm15LWluZm8tYm94IHsKICAgICAgICBiYWNrZ3JvdW5kOiB1cmwoJy4vYmFubmVyLnBuZycpIG5vLXJlcGVhdDsKICAgICAgICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyOwogICAgfQogICAgLmJhc2UtaW5mbyB7CiAgICAgICAgaGVpZ2h0OiAxMTZweDsKICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogICAgICAgIGJhY2tncm91bmQtY29sb3I6IHVuc2V0OwogICAgICAgIHBhZGRpbmctdG9wOiAzOHB4OwogICAgICAgIHBhZGRpbmctbGVmdDogMTZweDsKICAgICAgICBwYWRkaW5nLWJvdHRvbTogMTJweDsKICAgICAgICAuYXZhdGFyIHsKICAgICAgICAgICAgd2lkdGg6IDYwcHg7CiAgICAgICAgICAgIGhlaWdodDogNjBweDsKICAgICAgICAgICAgYm9yZGVyOiAycHggc29saWQgI2ZmZjsKICAgICAgICB9CiAgICAgICAgLnVzZXJuYW1lIHsKICAgICAgICAgICAgZm9udC1zaXplOiAxNXB4OwogICAgICAgICAgICBjb2xvcjogI2ZmZjsKICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IDEwcHg7CiAgICAgICAgfQogICAgICAgIC5lZGl0LWJ0biB7CiAgICAgICAgICAgIHBhZGRpbmc6IDZweCAxNXB4OwogICAgICAgICAgICBjb2xvcjogIzY2NjsKICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4OwogICAgICAgIH0KICAgIH0KICAgIC5kYXRhLWluZm8gewogICAgICAgIC5kYXRhLWluZm8taXRlbSB7CiAgICAgICAgICAgIGhlaWdodDogNjVweDsKICAgICAgICAgICAgLnRleHQtd3JhcCB7CiAgICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAgICAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAgICAgIGNvbG9yOiAjZmZmOwogICAgICAgICAgICAgICAgLmNvdW50IHsKICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDE4cHg7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAudGV4dCB7CiAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQogICAgLm5hdi1ncmlkIHsKICAgICAgICAubmF2LWdyaWQtaXRlbSB7CiAgICAgICAgICAgIGhlaWdodDogNzBweDsKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsKICAgICAgICAgICAgLnZhbi1pY29uLXN0YXItb3sKICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMjRweDsKICAgICAgICAgICAgICAgIGNvbG9yOiAjZWI1MjUzOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC52YW4taWNvbi1jbG9jay1vIHsKICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMjRweDsKICAgICAgICAgICAgICAgIGNvbG9yOiAjZmY5ZDFkOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQogICAgL2RlZXAvIC52YW4tZ3JpZC1pdGVtX19jb250ZW50IHsKICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB1bnNldDsKICAgIH0KICAgIC5jZWxsLWJveCB7CiAgICAgICAgbWFyZ2luOiA2cHggMDsKICAgIH0KICAgIC5sb2dpbi1vdXQgewogICAgICAgIGhlaWdodDogNDdweDsKICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgY29sb3I6ICNkYjYyNjI7CiAgICAgICAgbWFyZ2luLWJvdHRvbTogNHB4OwogICAgfQogICAgLm5vdC1sb2dpbiB7CiAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgaGVpZ2h0OiAxODBweDsKICAgICAgICBiYWNrZ3JvdW5kOiB1cmwoJy4vYmFubmVyLnBuZycpIG5vLXJlcGVhdDsKICAgICAgICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyOwogICAgfQogICAgLm5vdC1sb2dpbi13cmFwcGVyIHsKICAgICAgICBoZWlnaHQ6IDEwMCU7CiAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICB9CiAgICAubm90LWxvZ2luLWltZyB7CiAgICAgICAgd2lkdGg6IDcwcHg7CiAgICAgICAgaGVpZ2h0OiA3MHB4OwogICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTsKICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOwogICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgIH0KICAgIC5sb2dpbi10ZXh0IHsKICAgICAgICBmb250LXNpemU6IDE4cHg7CiAgICAgICAgY29sb3I6ICNmZmY7CiAgICB9Cn0KCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/my","sourcesContent":["<template>\n    <div class=\"my-container\">\n        <van-cell-group class=\"my-info-box\" v-if=\"user\">\n            <van-cell title=\"单元格\" value=\"内容\" center :border=\"false\" class=\"base-info\">\n                <van-image \n                    slot=\"icon\"\n                    fit=\"cover\" \n                    round\n                    class=\"avatar\"\n                    src=\"currentUser.photo\" \n                />\n                <div slot=\"title\" class=\"username\">{{ currentUser.name }}</div>\n                <van-button size=\"mini\" class=\"edit-btn\" round>\n                    编辑资料\n                </van-button>\n            </van-cell>\n            <van-grid :border=\"false\" class=\"data-info\">\n                <van-grid-item class=\"data-info-item\">\n                    <div slot=\"text\" class=\"text-wrap\">\n                        <span class=\"count\">{{ currentUser.art_count }}</span>\n                        <span class=\"text\">头条</span>\n                    </div>\n                </van-grid-item>\n                <van-grid-item class=\"data-info-item\">\n                    <div slot=\"text\" class=\"text-wrap\">\n                        <span class=\"count\">{{ currentUser.follow_count }}</span>\n                        <span class=\"text\">关注</span>\n                    </div>\n                </van-grid-item>\n                <van-grid-item class=\"data-info-item\">\n                    <div slot=\"text\" class=\"text-wrap\">\n                        <span class=\"count\">{{ currentUser.fans_count }}</span>\n                        <span class=\"text\">粉丝</span>\n                    </div>\n                </van-grid-item>\n                <van-grid-item class=\"data-info-item\">\n                    <div slot=\"text\" class=\"text-wrap\">\n                        <span class=\"count\">{{ currentUser.like_count }}</span>\n                        <span class=\"text\">获赞</span>\n                    </div>\n                </van-grid-item>\n            </van-grid>\n        </van-cell-group>\n        <div v-else class=\"not-login\">\n            <div class=\"not-login-wrapper\" @click=\"$router.push('/login')\">\n                <div class=\"not-login-img\">\n                    <van-icon name=\"graphic\" size=\"55\" color=\"#1989fa\" />\n                </div>\n                <div class=\"login-text\">登录 / 注册</div>\n            </div>\n        </div>\n        <van-grid :border=\"false\" :column-num=\"2\" class=\"nav-grid\">\n            <van-grid-item  icon=\"star-o\" text=\"收藏\" class=\"nav-grid-item\" />\n            <van-grid-item icon=\"clock-o\" text=\"历史\" class=\"nav-grid-item\" />\n        </van-grid>\n        <van-cell-group class=\"cell-box\" :border=\"false\">\n            <van-cell title=\"消息通知\" is-link to=\"\" />\n            <van-cell title=\"小智同学\" is-link to=\"\" />\n        </van-cell-group>\n        <van-cell class=\"login-out\" v-if=\"user\" @click=\"onLogout\" title=\"退出登录\" />\n    </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport { getCurrentUser } from '@/api/user';\n\n    export default {\n        data() {\n            return {\n                currentUser: {}\n            }\n        },\n        computed: {\n            ...mapState(['user'])\n        },\n        created () {\n            this.loadCurrentUser();\n        },\n        methods: {\n            async loadCurrentUser() {\n                const { data } = await getCurrentUser();\n                this.currentUser = data.data;\n            },\n            onLogout() {\n                this.$dialog.confirm({\n                        title: '退出确认',\n                        message: '退出当前账号，将不能同步收藏,发布评论和云端分享等',\n                    }).then(() => {\n                        //点击确认后清除用户登录状态\n                        this.$store.commit('setUser', null);\n                    }).catch(() => {\n                    // on cancel\n                });\n            }\n        },\n    }\n</script>\n\n<style lang=\"less\" scoped>\nbody {\n    background-color: #FAFAFA;\n    color: #333;\n}\n.my-container {\n    .my-info-box {\n        background: url('./banner.png') no-repeat;\n        background-size: cover;\n    }\n    .base-info {\n        height: 116px;\n        box-sizing: border-box;\n        background-color: unset;\n        padding-top: 38px;\n        padding-left: 16px;\n        padding-bottom: 12px;\n        .avatar {\n            width: 60px;\n            height: 60px;\n            border: 2px solid #fff;\n        }\n        .username {\n            font-size: 15px;\n            color: #fff;\n            margin-left: 10px;\n        }\n        .edit-btn {\n            padding: 6px 15px;\n            color: #666;\n            font-size: 14px;\n        }\n    }\n    .data-info {\n        .data-info-item {\n            height: 65px;\n            .text-wrap {\n                display: flex;\n                flex-direction: column;\n                justify-content: center;\n                align-items: center;\n                color: #fff;\n                .count {\n                    font-size: 18px;\n                }\n                .text {\n                    font-size: 12px;\n                }\n            }\n        }\n    }\n    .nav-grid {\n        .nav-grid-item {\n            height: 70px;\n            background-color: #fff;\n            .van-icon-star-o{\n                font-size: 24px;\n                color: #eb5253;\n            }\n            .van-icon-clock-o {\n                font-size: 24px;\n                color: #ff9d1d;\n            }\n        }\n    }\n    /deep/ .van-grid-item__content {\n        background-color: unset;\n    }\n    .cell-box {\n        margin: 6px 0;\n    }\n    .login-out {\n        height: 47px;\n        text-align: center;\n        color: #db6262;\n        margin-bottom: 4px;\n    }\n    .not-login {\n        width: 100%;\n        height: 180px;\n        background: url('./banner.png') no-repeat;\n        background-size: cover;\n    }\n    .not-login-wrapper {\n        height: 100%;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n    }\n    .not-login-img {\n        width: 70px;\n        height: 70px;\n        border-radius: 50%;\n        background-color: #fff;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n    }\n    .login-text {\n        font-size: 18px;\n        color: #fff;\n    }\n}\n\n</style>"]}]}